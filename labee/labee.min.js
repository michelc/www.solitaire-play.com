"use strict";function A(){const n=$("#content").clientHeight-15;$7.style.height=n+"px"}function Î±(r){z={X:0,a:-1,b:"",c:[],d:[],e:"",f:[],g:0,h:0,i:[0,0,0,0,0,0,0,0,0,0],j:-1,p:!1,l:"https://www.solitaire-play.com/labee/",m:["","","","","","","","",""],n:9,o:!1,k:!1,q:-1,r:0};const t=AA();z.a=r||t;let n=Ïˆ.find(n=>n.id===z.a);n?z.a===t?(z.q=AB(z.a),z.r=0):(z.q=0,z.r=r):(n=Ïˆ[Ïˆ.length-1],z.a=n.id,z.q=-1);z.b=n.b;z.c=n.c.split(" ");z.d=n.d;Î´($("#puzzle"),`#${z.a}`);T();z.o?Î²($C):r||U()}function B(n,t,i){t>=2e3&&(n+="<a class=close>âœ•<\/a>",Î³($6),z.k=!0);$5.innerHTML=n;Î²($5);timoutId=setTimeout(function(){Î³($5);i&&i();z.k=!1},t)}function C(n){if(!z.k)if(n===13){let n=R();if(z.e==="")return;if(n!==""){z.k=!0;let t=400;const i=n.startsWith("Mot");i&&(t=7e3,z.e.endsWith("ANT")&&(t-=4e3,n+="<br><small>(ou participe prÃ©sent)<\/small>"));B(n,t,F);return}D();z.X=0}else n===8?z.X>0&&(E(z.X),z.X--,z.m[z.X]="",E(z.X),G(z.X),K(!0)):n>=65&&n<=90&&z.X<z.n&&(z.m[z.X]=String.fromCharCode(n),E(z.X,!0),K(!0),z.X++,G(z.X))}function D(){L();K();z.f.length===1&&V(0);const g=O(z.e);z.g+=g;Z(g);N(!0);I();S();F()}function E(n,t){if(n!==z.n){Î´($1[n],z.m[n]);let i="case"+(t?" pop":"");z.m[n]!==""&&(i+=z.b.startsWith(z.m[n])?" filled-ok":z.b.includes(z.m[n])?" filled":" filled-ko");$1[n].className=i}}function F(){z.k=!1;for(let n=0;n<z.n;n++)z.m[n]="",Î´($1[n],""),$1[n].className="case";z.X=0;G(z.X);try{clearTimeout(timoutId)}finally{}Î³($5);Î²($6)}function G(n){z.k||n>z.n-1||($1[n].innerHTML+="<span class='curseur'>_<\/span>")}function H(){const n=z.c.filter(n=>!z.f.includes(n));if(n.length===0){confetti();B("C'est fini !<br><br>Â¯\\_(ãƒ„)_/Â¯",14e3,F);return}for(let t=0;t<n.length;t++)n[t]=n.splice(Math.floor(n.length*Math.random()),1,n[t])[0];const t=J(n[0]);if(z.d.length>0){const t=z.c.indexOf(n[0]),i=z.d[t].split("|")[0];B(i,1e3);return}const i=z.j<3?2:t.length/5*3;B(t.substring(0,i)+"...",1e3)}function Z(g){let n="Bien",t="";g>9?(n="Pangramme",t=" class=sept"):n=g>6?"Super":g>4?"Bravo":"Bien";$J.innerHTML=`<span${t}>${n} !</span> <b>+${g}</b>`;Î²($J);setTimeout(function(){if(Î³($J),z.p){confetti();const n="Victoire !<br>C'est "+Ï‰[z.j];B(n,14e3,F)}else if(z.c.length===z.f.length){confetti();B("C'est fini !<br><br>Â¯\\_(ãƒ„)_/Â¯",14e3,F)}},950)}function I(){Î´($8,Ï‰[z.j]);Î´($A,z.f.length+" mot"+(z.f.length>1?"s":""));Î´($B,z.g+" point"+(z.g>1?"s":""));let n="";z.r!==0?n="#"+z.r:z.q>0&&z.q<9&&(n="J-"+z.q);Î´($9,n);for(let n=0;n<z.j;n++){const t=`#progression div:nth-child(${n+1})`;if($(t).className=z.j===9?"boss":"yes",n===7)break}}function J(n){return n===""?n:n[0].toUpperCase()+n.substring(1).toLowerCase()}function K(n){let f=z.f.map(n=>J(n)).join(" ");if(n){const e=J(z.m.join(""));f=" "+f;f=f.replaceAll(" "+e," <u>"+e+"<\/u>").trim()}z.q===-1&&(f+="<br><b>RafraÃ®chir pour une nouvelle partie !<\/b>");$6.className=z.f.length>75?"reponses smaller":z.f.length>50?"reponses small":"reponses";$6.innerHTML=f;$7.scrollTop=$7.scrollHeight}function L(){z.f.sort();z.f.push(z.e)}function M(){z.h=0;let i=0;for(let n=0;n<z.c.length;n++){const g=O(z.c[n]);g>9&&i++;z.h+=g}z.g=0;for(let n=0;n<z.f.length;n++)z.g+=O(z.f[n]);z.i[0]=0;z.i[1]=Math.floor(z.h/50);z.i[2]=Math.floor(z.h/20);z.i[3]=Math.floor(8*z.h/100);z.i[4]=Math.floor(15*z.h/100);z.i[5]=Math.floor(z.h/4);z.i[6]=Math.floor(39*z.h/100);z.i[7]=Math.floor(49*z.h/100);z.i[8]=Math.floor(69*z.h/100);z.i[9]=Math.floor(z.h/1);let n=$E.innerHTML;n=n.replace("%%",z.c.length);n=n.replace("%%",z.h);n=n.replace("%%",i);let t="<ul>";for(let n=1;n<Ï‰.length-1;n++)t+=`<li>${Ï‰[n]} : ${z.i[n]}</li>`;t+="<\/ul>";n=n.replace("%%",t);$E.innerHTML=n}function N(n){const t=z.j;z.j=0;z.p=!1;for(let n=0;n<z.i.length;n++)z.g>=z.i[n]&&(z.j=n);n&&t!==z.j&&(V(z.j),z.p=z.j===8)}function O(n){let g=0;const t=n.length;return g=t===4?1:t,P(n)&&(g+=7),g}function P(n){if(n.length<7)return!1;for(let t=0;t<7;t++)if(n.indexOf(z.b[t])===-1)return!1;return!0}function Q(){const n=z.b.split(""),t=n.shift();for(let t=0;t<n.length;t++)n[t]=n.splice(Math.floor(n.length*Math.random()),1,n[t])[0];$3.textContent=t;for(let t=0;t<n.length;t++)$2[t].textContent=n[t]}function R(){if(z.e=z.m.join(""),z.e.length<4)return"Trop court";const t=z.f.indexOf(z.e);if(t!==-1)return"DÃ©jÃ  trouvÃ©";const n=z.b[0];if(z.e.indexOf(n)===-1)return"Manque un "+n;for(let n=0;n<z.e.length;n++)if(z.b.indexOf(z.e[n])===-1)return"Mauvaises lettres";return z.c.indexOf(z.e)===-1?"Mot inconnu":""}function U(){let n=`#LaBEE ${z.a}

`+`${Ï‰[z.j]} - `+`${z.f.length} mot${z.f.length>1?"s":""} - `+`${z.g} point${z.g>1?"s":""}
`+`â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ`;const i=Ï‰.length-1;for(let t=1;t<=z.j;t++)n=n.replace("â¬œ","ðŸŸ¦");z.j===i&&(n=n.replaceAll("ðŸŸ¦","ðŸŸ§"));n+="\n#LeMotLeJeu\n";$(".parametres textarea").value=n+`
${z.l.substring(12)}
`;z.grille=n+`
${z.l}
`;Î²($G)}function S(){const n={partie:{numero:z.a,petales:z.b,butines:z.f.sort().join(" ").trim()}},t=`fleur-${z.a}`;window.localStorage.setItem(t,JSON.stringify(n))}function T(){const t=`fleur-${z.a}`;let n=JSON.parse(window.localStorage.getItem(t));n===null&&z.a===1&&(n=JSON.parse(window.localStorage.getItem("fleur")));n===null&&(n={partie:{a:-1}},z.o=!0);n.partie.butins&&(n.partie.butines=n.partie.butines);n.partie.petales!==z.b&&(n.partie.butines="");z.f=n.partie.butines?n.partie.butines.split(" "):[];K();M();N(!1);I();Q();z.X=0;F()}function AA(n){return(n=n||new Date,n.toISOString().substring(0,10)>="2022-05-15")?3:n.toISOString().substring(0,10)>="2022-05-01"?2:1}function AB(n){let t=new Date,i=0;while(AA(t)===n)if(i++,t.setDate(t.getDate()+1),i>9)break;return i}function V(n){let t=`https://lemot.goatcounter.com/count?p=/fleur-${z.a}-${n}&e=1`;(new Image).src=t}function W(){navigator.clipboard?navigator.clipboard.writeText(z.grille).then(Y,X):X()}function X(){const n=document.createElement("textarea");Î´(n,z.grille);document.body.appendChild(n);n.select();const t=document.execCommand("copy");document.body.removeChild(n);t?Y():Y("Impossible de copier dans le presse-papier :(")}function Y(n){const t=$(".resultats .note"),i=t.textContent;n=n||"Grille copiÃ©e dans le presse-papier :)";Î´(t,n);setTimeout(function(){Î´($(".resultats .note"),i)},1e4)}function Î²(n){n.style.display="block"}function Î³(n){n.style.display="none"}function Î´(n,t){n.textContent=t}function $(n){return document.querySelector(n)}const Ï‰=["C'est parti","Pas mal","En progrÃ¨s","Bien","Fortiche","Joli","Super","Ã‰patant","GÃ©nial ðŸ¥³","Formidable !",],Ïˆ=[{id:1,b:"AILNOTV",c:"AIOLI ALLAITANT ALLANT ALLO ALOI ALTO ALVIN ANAL ANNIV ANON ANTAN ANTIVOL ATOLL ATONAL AVAL AVALANT AVANT AVIATION AVION INANITION INITIAL INNOVANT INVITANT IOTA LAIT LAITON LALA LATIN LATINO LIANT LILIAL LOINTAIN LOLITA LOTTA NAIN NANA NANAN NANTI NATAL NATATION NATION NATIONAL NAVAL NOTA NOTATION NOVA NOVATION OVATION TAIN TALA TALION TALON TANIN TANNANT TANNIN TANT TANTOT TAON TATA TATILLON TATIN TATONNANT TIAN TITAN TONAL TONNANT TOTAL VAILLANT VAIN VALLON VANTAIL VILAIN VILLA VINA VIOLATION VITAL VIVANT VIVAT VLAN VOILA VOLANT VOLATIL VOTANT",d:["Mayonnaise|aÃ¯oli","Donnant Ã  manger","Peps","C'est qui ?","GÃ©nÃ©ralement bon","Grave fÃ©minine","Bas du bidon *","Bas des fesses","Apocope Ã  bougies","Fils d'imbÃ©cile|Ã¢non","Du bon temps","Marque de mÃ©fiance","Bikini explosif","SÃ©rial musique *","ArrivÃ©e d'eau","Entubant","PrÃ©cÃ©demment","HÃ©ritage d'Icare","Fait comme l'oiseau","Famine !","En tÃªte au fÃ©minin","Sans pomper","Viendez !","Minuscule mais inflexible","SpÃ©cialitÃ© des mammifÃ¨res","CuivrÃ© et mÃ©tis","Oh !","Comme un italien","Comme un espagnol","Douceur","Blanc et pur *","Horizon","Mademoiselle Haze","EngagÃ©e pour l'indÃ©pendance *","Ami de Legolas","Mademoiselle Coupeau","Mot d'enfant facile *","PrivilÃ©giÃ©","D'oÃ¹ l'on vient","Sert souvent d'excuse","A sa place","Championnat de foot","Que d'eau, que d'eau !","Avertissement","RÃ©sultat d'un devoir","ExtrÃªmement brillante","Invention disruptive *","Triomphe bruyant","RÃ©flÃ©chissant","De la musique hindoue *","Compensation","Fond de cartes","Poudre Ã  peaux","Fatigant","Poudre Ã  vin","On ne sait pas trop combien","On ne sait pas trop quand|tantÃ´t","Donne des douleurs vives","Soeur affectueuse","Maniaque","RenversÃ©","Peu Ã  peu|tÃ¢tonnant","ProvenÃ§al","Une force de la nature","De l'ordre du son","JupitÃ©rien","Somme en somme","Courageux et travailleur","Qui ne sert pas","Entre cÃ´tes","Partie mobile","Comme un pou","D'origine italienne","Instrument indien *|vÃ®nÃ¢","Manque de respect","Indispensable","Mieux vaut l'Ãªtre bon","Chanson flamande","Passe moi l'Ã©ponge","C'est fini|voilÃ ","Pour une bonne conduite","Pas trÃ¨s fiable","Prend position"]},{id:2,b:"RAGILNU",c:"AGIR AIGRI AIGRIR AIRAIN ALANGUIR ALUNIR ANAR ARALIA ARGAN ARIA AUGURAL AURA GALURIN GARI GARNI GARNIR GAUR GIRL GRAAL GRAIN GRANA GRAU GRIGRI GRIL GRILL GRRR GRUAU GUAR GUARANA GUARANI GURU INAUGURAL LANGUIR LANGUR NAGARI NAIRA NANAR RAGA RAGLAN RAIA RAIL RANG RANI RIAL RING RUGIR RUNNING RURAL UNIR URINAL",d:["Pas procrastiner","Scrooge","GÃ¢ter","Loi implacable","Plus sexy quand il est pronominal","ArrÃªter de rÃªver","Enfant de Louise Michel","Arbuste du Japon","Huile marocaine","MÃ©lodie","Oraculaire","Halo","Le bibi d'un mec","Semoule ou condiment selon le pays","Vieillot mais meublÃ©","Enrichir","Boeuf indien","Belle en troupe","Bocal Ã  anchois","Sable ou sel","Fromage italien","Chenal","Petit et magique","Ustensile de cuisine","Restaurant","Signes de colÃ¨re","GrossiÃ¨rement moulu","A sa gomme","Source de cafÃ©ine","Jacter au Paraguay","Etre spirituel","En grande pompe","Avoir hÃ¢te de Motchus","Singe sacrÃ©","Sanscrit moderne","Oseille du NigÃ©ria","Gros navet","Muffin ?","Ample par dessus","Goy des ottomans","Bande de mÃ©tal","SpÃ©cialitÃ© des oignons","Princesse indienne","BlÃ© iranien","Entre les cordes","Pousser un cri","Bon pour le coeur","Bucolique","AgrÃ©ger","Pot de chambre"]},],$1=document.querySelectorAll("#plateau .case"),$2=document.querySelectorAll(".column .around"),$3=$(".column .center"),$4=$("#keyboard"),$5=$(".message"),$J=$(".bravo"),$6=$(".reponses"),$7=$("#inside"),$8=$("#niveau"),$A=$("#mots"),$B=$("#points"),$9=$("#jours");window.addEventListener("load",A);window.addEventListener("resize",A);const $C=$(".instructions"),$D=$(".aide");$D.addEventListener("click",()=>{Î²($C)},!1);const $E=$(".informations"),$F=$(".fleur");$F.addEventListener("click",()=>{Î²($E)},!1);const $G=$(".parametres"),$H=$(".outils");$H.addEventListener("click",()=>{U()},!1);const $I=$(".resultats button");$I.addEventListener("click",W);document.body.addEventListener("click",n=>{if(n.target.className.indexOf("ferme")!==-1)return Î³($C),Î³($E),Î³($G),!1});let timoutId=-1;$5.addEventListener("click",F);document.addEventListener("keyup",n=>{n.ctrlKey||C(n.which)},!1);$4.addEventListener("click",n=>{if(z.k){n.target.blur();return}let t=n.target.textContent;t.length!==1?n.target.id==="enter"?C(13):n.target.id==="back"?C(8):n.target.id==="shuffle"?Q():n.target.id==="hint"&&H():C(t.charCodeAt());n.target.blur()},!1);let z={};Î±()