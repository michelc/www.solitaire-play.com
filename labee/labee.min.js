"use strict";function A(){const n=$("#content").clientHeight-15;$7.style.height=n+"px"}function B(n,t,i){t>=2e3&&(n+="<a class=close>‚úï<\/a>",Œ≤($6),z.k=!0);$5.innerHTML=n;Œ±($5);timoutId=setTimeout(function(){Œ≤($5);i&&i();z.k=!1},t)}function C(n){if(!z.k)if(n===13){let n=R();if(z.e==="")return;if(n!==""){z.k=!0;let t=400;const i=n.startsWith("Mot");i&&(t=7e3,z.e.endsWith("ANT")&&(t-=4e3,n+="<br><small>(ou participe pr√©sent)<\/small>"));B(n,t,F);return}D();z.X=0}else n===8?z.X>0&&(E(z.X),z.X--,z.m[z.X]="",E(z.X),G(z.X),K(!0)):n>=65&&n<=90&&z.X<z.n&&(z.m[z.X]=String.fromCharCode(n),E(z.X,!0),K(!0),z.X++,G(z.X))}function D(){L();K();z.f.length===1&&V(0);const g=O(z.e);z.g+=g;Z(g);N(!0);I();S();F()}function E(n,t){if(n!==z.n){Œ≥($1[n],z.m[n]);let i="case"+(t?" pop":"");z.m[n]!==""&&(i+=z.b.startsWith(z.m[n])?" filled-ok":z.b.includes(z.m[n])?" filled":" filled-ko");$1[n].className=i}}function F(){z.k=!1;for(let n=0;n<z.n;n++)z.m[n]="",Œ≥($1[n],""),$1[n].className="case";z.X=0;G(z.X);try{clearTimeout(timoutId)}finally{}Œ≤($5);Œ±($6)}function G(n){z.k||n>z.n-1||($1[n].innerHTML+="<span class='curseur'>_<\/span>")}function H(){const n=z.c.filter(n=>!z.f.includes(n));if(n.length===0){confetti();B("C'est fini !<br><br>¬Ø\\_(„ÉÑ)_/¬Ø",14e3,F);return}for(let t=0;t<n.length;t++)n[t]=n.splice(Math.floor(n.length*Math.random()),1,n[t])[0];const t=J(n[0]);if(z.d.length>0){const t=z.c.indexOf(n[0]),i=z.d[t].split("|")[0];B(i,1e3);return}const i=z.j<3?2:t.length/5*3;B(t.substring(0,i)+"...",1e3)}function Z(g){let n="Bien",t="";g>9?(n="Pangramme",t=" class=sept"):n=g>6?"Super":g>4?"Bravo":"Bien";$J.innerHTML=`<span${t}>${n} !</span> <b>+${g}</b>`;Œ±($J);setTimeout(function(){if(Œ≤($J),z.p){confetti();const n="Victoire !<br>C'est "+Œ¥[z.j];B(n,14e3,F)}else if(z.c.length===z.f.length){confetti();B("C'est fini !<br><br>¬Ø\\_(„ÉÑ)_/¬Ø",14e3,F)}},950)}function I(){Œ≥($8,Œ¥[z.j]);Œ≥($A,z.f.length+" mot"+(z.f.length>1?"s":""));Œ≥($B,z.g+" point"+(z.g>1?"s":""));z.q>0&&z.q<9&&Œ≥($9,"J-"+z.q);for(let n=0;n<z.j;n++){const t=`#progression div:nth-child(${n+1})`;if($(t).className=z.j===9?"boss":"yes",n===7)break}}function J(n){return n===""?n:n[0].toUpperCase()+n.substring(1).toLowerCase()}function K(n){let f=z.f.map(n=>J(n)).join(" ");if(n){const e=J(z.m.join(""));f=" "+f;f=f.replaceAll(" "+e," <u>"+e+"<\/u>").trim()}z.q===-1&&(f+="<br><b>Rafra√Æchir pour une nouvelle partie !<\/b>");z.f.length>75?$6.className="reponses smaller":z.f.length>50&&($6.className="reponses small");$6.innerHTML=f;$7.scrollTop=$7.scrollHeight}function L(){z.f.sort();z.f.push(z.e)}function M(){z.h=0;let i=0;for(let n=0;n<z.c.length;n++){const g=O(z.c[n]);g>9&&i++;z.h+=g}z.g=0;for(let n=0;n<z.f.length;n++)z.g+=O(z.f[n]);z.i[0]=0;z.i[1]=Math.floor(z.h/50);z.i[2]=Math.floor(z.h/20);z.i[3]=Math.floor(8*z.h/100);z.i[4]=Math.floor(15*z.h/100);z.i[5]=Math.floor(z.h/4);z.i[6]=Math.floor(39*z.h/100);z.i[7]=Math.floor(49*z.h/100);z.i[8]=Math.floor(69*z.h/100);z.i[9]=Math.floor(z.h/1);let n=$E.innerHTML;n=n.replace("%%",z.c.length);n=n.replace("%%",z.h);n=n.replace("%%",i);let t="<ul>";for(let n=1;n<Œ¥.length-1;n++)t+=`<li>${Œ¥[n]} : ${z.i[n]}</li>`;t+="<\/ul>";n=n.replace("%%",t);$E.innerHTML=n}function N(n){const t=z.j;z.j=0;z.p=!1;for(let n=0;n<z.i.length;n++)z.g>=z.i[n]&&(z.j=n);n&&t!==z.j&&(V(z.j),z.p=z.j===8)}function O(n){let g=0;const t=n.length;return g=t===4?1:t,P(n)&&(g+=7),g}function P(n){if(n.length<7)return!1;for(let t=0;t<7;t++)if(n.indexOf(z.b[t])===-1)return!1;return!0}function Q(){const n=z.b.split(""),t=n.shift();for(let t=0;t<n.length;t++)n[t]=n.splice(Math.floor(n.length*Math.random()),1,n[t])[0];$3.textContent=t;for(let t=0;t<n.length;t++)$2[t].textContent=n[t]}function R(){if(z.e=z.m.join(""),z.e.length<4)return"Trop court";const t=z.f.indexOf(z.e);if(t!==-1)return"D√©j√† trouv√©";const n=z.b[0];if(z.e.indexOf(n)===-1)return"Manque un "+n;for(let n=0;n<z.e.length;n++)if(z.b.indexOf(z.e[n])===-1)return"Mauvaises lettres";return z.c.indexOf(z.e)===-1?"Mot inconnu":""}function U(){let n=`#LaBEE ${z.a}

`+`${Œ¥[z.j]} - `+`${z.f.length} mot${z.f.length>1?"s":""} - `+`${z.g} point${z.g>1?"s":""}
`+`‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú`;const i=Œ¥.length-1;for(let t=1;t<=z.j;t++)n=n.replace("‚¨ú","üü¶");z.j===i&&(n=n.replaceAll("üü¶","üüß"));n+="\n#LeMotLeJeu\n";$(".parametres textarea").value=n+`
solitaire-play.com/labee/
`;z.grille=n+`
https://www.solitaire-play.com/labee/
`;Œ±($G)}function S(){const n={partie:{numero:z.a,petales:z.b,butines:z.f.sort().join(" ").trim()}},t=`fleur-${z.a}`;window.localStorage.setItem(t,JSON.stringify(n))}function T(){const t=`fleur-${z.a}`;let n=JSON.parse(window.localStorage.getItem(t));n===null&&z.a===1&&(n=JSON.parse(window.localStorage.getItem("fleur")));n===null&&(n={partie:{a:-1}},z.o=!0);n.partie.butins&&(n.partie.butines=n.partie.butines);n.partie.petales!==z.b&&(n.partie.butines="");z.f=n.partie.butines?n.partie.butines.split(" "):[];K();M();N(!1);I();Q();z.X=0;F()}function AA(n){return(n=n||new Date,n.toISOString().substring(0,10)>="2022-05-01")?2:1}function AB(n){let t=new Date,i=0;while(AA(t)===n)if(i++,t.setDate(t.getDate()+1),i>9)break;return i}function V(n){let t=`https://lemot.goatcounter.com/count?p=/fleur-${z.a}-${n}&e=1`;(new Image).src=t}function W(){navigator.clipboard?navigator.clipboard.writeText(z.grille).then(Y,X):X()}function X(){const n=document.createElement("textarea");Œ≥(n,z.grille);document.body.appendChild(n);n.select();const t=document.execCommand("copy");document.body.removeChild(n);t?Y():Y("Impossible de copier dans le presse-papier :(")}function Y(n){const t=$(".resultats .note"),i=t.textContent;n=n||"Grille copi√©e dans le presse-papier :)";Œ≥(t,n);setTimeout(function(){Œ≥($(".resultats .note"),i)},1e4)}function Œ±(n){n.style.display="block"}function Œ≤(n){n.style.display="none"}function Œ≥(n,t){n.textContent=t}function $(n){return document.querySelector(n)}const Œ¥=["C'est parti","Pas mal","En progr√®s","Bien","Fortiche","Joli","Super","√âpatant","G√©nial ü•≥","Formidable !",],Œµ=[{id:1,b:"AILNOTV",c:"AIOLI ALLAITANT ALLANT ALLO ALOI ALTO ALVIN ANAL ANNIV ANON ANTAN ANTIVOL ATOLL ATONAL AVAL AVALANT AVANT AVIATION AVION INANITION INITIAL INNOVANT INVITANT IOTA LAIT LAITON LALA LATIN LATINO LIANT LILIAL LOINTAIN LOLITA LOTTA NAIN NANA NANAN NANTI NATAL NATATION NATION NATIONAL NAVAL NOTA NOTATION NOVA NOVATION OVATION TAIN TALA TALION TALON TANIN TANNANT TANNIN TANT TANTOT TAON TATA TATILLON TATIN TATONNANT TIAN TITAN TONAL TONNANT TOTAL VAILLANT VAIN VALLON VANTAIL VILAIN VILLA VINA VIOLATION VITAL VIVANT VIVAT VLAN VOILA VOLANT VOLATIL VOTANT"},{id:2,b:"RAGILNU",c:"AGIR AIGRI AIGRIR AIRAIN ALANGUIR ALUNIR ANAR ARALIA ARGAN ARIA AUGURAL AURA GALURIN GARI GARNI GARNIR GAUR GIRL GRAAL GRAIN GRANA GRAU GRIGRI GRIL GRILL GRRR GRUAU GUAR GUARANA GUARANI GURU INAUGURAL LANGUIR LANGUR NAGARI NAIRA NANAR RAGA RAGLAN RAIA RAIL RANG RANI RIAL RING RUGIR RUNNING RURAL UNIR URINAL"},],z={X:0,a:-1,b:"",c:[],d:[],e:"",f:[],g:0,h:0,i:[0,0,0,0,0,0,0,0,0,0],j:-1,p:!1,l:"https://www.solitaire-play.com/labee/",m:["","","","","","","","",""],n:9,o:!1,k:!1,q:-1},$1=document.querySelectorAll("#plateau .case"),$2=document.querySelectorAll(".column .around"),$3=$(".column .center"),$4=$("#keyboard"),$5=$(".message"),$J=$(".bravo"),$6=$(".reponses"),$7=$("#inside"),$8=$("#niveau"),$A=$("#mots"),$B=$("#points"),$9=$("#jours");window.addEventListener("load",A);window.addEventListener("resize",A);const $C=$(".instructions"),$D=$(".aide");$D.addEventListener("click",()=>{Œ±($C)},!1);const $E=$(".informations"),$F=$(".fleur");$F.addEventListener("click",()=>{Œ±($E)},!1);const $G=$(".parametres"),$H=$(".outils");$H.addEventListener("click",()=>{U()},!1);const $I=$(".resultats button");$I.addEventListener("click",W);document.body.addEventListener("click",n=>{if(n.target.className.indexOf("ferme")!==-1)return Œ≤($C),Œ≤($E),Œ≤($G),!1});let timoutId=-1;$5.addEventListener("click",F);document.addEventListener("keyup",n=>{n.ctrlKey||C(n.which)},!1);$4.addEventListener("click",n=>{if(z.k){n.target.blur();return}let t=n.target.textContent;t.length!==1?n.target.id==="enter"?C(13):n.target.id==="back"?C(8):n.target.id==="shuffle"?Q():n.target.id==="hint"&&H():C(t.charCodeAt());n.target.blur()},!1);z.a=AA();z.a>Œµ.length?(z.a=Œµ.length,z.q=-1):z.q=AB(z.a);const pid=Œµ.find(n=>n.id===z.a);z.b=pid.b;z.c=pid.c.split(" ");Œ≥($("#puzzle"),`#${z.a}`);z.a===1?z.d=["Mayonnaise|a√Øoli","Donnant √† manger","Peps","C'est qui ?","G√©n√©ralement bon","Grave f√©minine","Bas du bidon *","Bas des fesses","Apocope √† bougies","Fils d'imb√©cile|√¢non","Du bon temps","Marque de m√©fiance","Bikini explosif","S√©rial musique *","Arriv√©e d'eau","Entubant","Pr√©c√©demment","H√©ritage d'Icare","Fait comme l'oiseau","Famine !","En t√™te au f√©minin","Sans pomper","Viendez !","Minuscule mais inflexible","Sp√©cialit√© des mammif√®res","Cuivr√© et m√©tis","Oh !","Comme un italien","Comme un espagnol","Douceur","Blanc et pur *","Horizon","Mademoiselle Haze","Engag√©e pour l'ind√©pendance *","Ami de Legolas","Mademoiselle Coupeau","Mot d'enfant facile *","Privil√©gi√©","D'o√π l'on vient","Sert souvent d'excuse","A sa place","Championnat de foot","Que d'eau, que d'eau !","Avertissement","R√©sultat d'un devoir","Extr√™mement brillante","Invention disruptive *","Triomphe bruyant","R√©fl√©chissant","De la musique hindoue *","Compensation","Fond de cartes","Poudre √† peaux","Fatigant","Poudre √† vin","On ne sait pas trop combien","On ne sait pas trop quand|tant√¥t","Donne des douleurs vives","Soeur affectueuse","Maniaque","Renvers√©","Peu √† peu|t√¢tonnant","Proven√ßal","Une force de la nature","De l'ordre du son","Jupit√©rien","Somme en somme","Courageux et travailleur","Qui ne sert pas","Entre c√¥tes","Partie mobile","Comme un pou","D'origine italienne","Instrument indien *|v√Æn√¢","Manque de respect","Indispensable","Mieux vaut l'√™tre bon","Chanson flamande","Passe moi l'√©ponge","C'est fini|voil√†","Pour une bonne conduite","Pas tr√®s fiable","Prend position"]:z.a===2&&(z.d=["Pas procrastiner","Scrooge","G√¢ter","Loi implacable","Plus sexy quand il est pronominal","Arr√™ter de r√™ver","Enfant de Louise Michel","Arbuste du Japon","Huile marocaine","M√©lodie","Oraculaire","Halo","Le bibi d'un mec","Semoule ou condiment selon le pays","Vieillot mais meubl√©","Enrichir","Boeuf indien","Belle en troupe","Bocal √† anchois","Sable ou sel","Fromage italien","Chenal","Petit et magique","Ustensile de cuisine","Restaurant","Signes de col√®re","Grossi√®rement moulu","A sa gomme","Source de caf√©ine","Jacter au Paraguay","Etre spirituel","En grande pompe","Avoir h√¢te de Motchus","Singe sacr√©","Sanscrit moderne","Oseille du Nig√©ria","Gros navet","Muffin ?","Ample par dessus","Goy des ottomans","Bande de m√©tal","Sp√©cialit√© des oignons","Princesse indienne","Bl√© iranien","Entre les cordes","Pousser un cri","Bon pour le coeur","Bucolique","Agr√©ger","Pot de chambre"]);T();z.o?Œ±($C):U()