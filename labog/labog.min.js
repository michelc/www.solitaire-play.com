"use strict";function Y(){const n=$("#content").clientHeight-15;$7.style.height=n+"px"}function Î±(){z={X:0,a:-1,b:"",c:"",d:[],e:"",f:[],g:0,h:0,i:[0,0,0,0,0,0,0,0,0,0],j:-1,q:!1,l:"https://www.solitaire-play.com/labog/",m:["","","","","","","","",""],n:[-1,-1,-1,-1,-1,-1,-1,-1,-1],o:9,p:!1,k:!1,r:0};z.a=S();const n=Ïˆ.find(n=>n.id===z.a);z.c=n.c;z.d=n.d.split(" ");z.h=n.h||0;Î´($("#puzzle"),`#${z.a}`);X();AC();AD();z.p?Î²($C):z.g===0||document.referrer.startsWith(z.l.substring(0,31))&&W()}function V(n,t,i){t>=2e3&&(n+="<a class=close>âœ•<\/a>",Î³($6),z.k=!0);$4.innerHTML=n;Î²($4);timoutId=setTimeout(function(){Î³($4);i&&i();z.k=!1},t)}function T(n,t=-1){if(!z.k)if(n===13){let n=M();if(z.e==="")return;if(n!==""){z.k=!0;V(n,750,R);return}AA();z.X=0}else if(n===8)z.X>0&&(A(z.X),z.X--,z.m[z.X]="",z.n[z.X]=-1,A(z.X),C(z.X),B(),F(!0));else{if(t===-1)return;if(n>=65&&n<=90){if(N(t)===!1)return;z.X<z.o&&(z.m[z.X]=String.fromCharCode(n),z.n[z.X]=t,A(z.X,!0),F(!0),z.X++,C(z.X),B())}}}function N(n){if(z.X===0)return!0;if(z.n.includes(n))return!1;const t=z.n[z.X-1],i=Math.floor(t/4),r=t%4,u=Math.floor(n/4),f=n%4;return u<i-1?!1:u>i+1?!1:f<r-1?!1:f>r+1?!1:!0}function AA(){H();F();z.f.length===1&&L(0);const g=K(z.e);z.g+=g;E(g);J(!0);G();Z();R()}function A(n,t){if(n!==z.o){if(n<3)Î´($0[n],z.m[n]);else{const t=z.d.filter(t=>t.length===n+1).length;$0[n].innerHTML=z.m[n]+`<em>${t}</em>`}let i="case";i+=z.m[n]!==""?" filled":"";i+=t?" pop":"";$0[n].className=i}}function R(){z.k=!1;for(let n=0;n<z.o;n++){z.m[n]="";A(n);const t=z.n[n];t!==-1&&($1[t].className="");z.n[n]=-1}z.X=0;C(z.X);B();try{clearTimeout(timoutId)}finally{}Î³($4);Î²($6)}function B(){const n=z.X===0?-1:z.n[z.X-1];for(let t=0;t<16;t++){let i="key-yes";t===n?i="key-last":z.n.includes(t)?i="key-played":N(t)===!1?i="key-no":z.X===z.o&&(i="key-no");$1[t].className=i}}function C(n){z.k||n>z.o-1||($0[n].innerHTML+="<span class='curseur'>_<\/span>",$("#shuffle").className=z.X===0?"":"disable")}function E(g){let n="Bien";g>6?n="Super":g>4&&(n="Bravo");$5.innerHTML=`<span>${n} !</span> <b>+${g}</b>`;Î²($5);setTimeout(function(){if(Î³($5),z.q){confetti();const n="Victoire !<br>C'est "+Ï‰[z.j];V(n,14e3,R)}else if(z.d.length===z.f.length){confetti();V("C'est fini !<br><br>Â¯\\_(ãƒ„)_/Â¯",14e3,R)}},950)}function G(){Î´($8,Ï‰[z.j]);Î´($A,z.f.length+" mot"+(z.f.length>1?"s":""));Î´($B,z.g+" point"+(z.g>1?"s":""));let n="";z.r>0&&z.r<9&&(n="J-"+z.r);Î´($9,n);for(let n=0;n<8;n++){const t=`#progression div:nth-child(${n+1})`;$(t).className="";n<z.j&&($(t).className=z.j===9?"boss":"yes")}}function U(n){return n===""?n:n[0].toUpperCase()+n.substring(1).toLowerCase()}function F(n){let f=z.f.map(n=>U(n)).join(" ");if(n){const e=U(z.m.join(""));f=" "+f;f=f.replaceAll(" "+e," <u>"+e+"<\/u>").trim()}z.r===-1&&(f+="<br><b>RafraÃ®chir pour une nouvelle partie !<\/b>");$6.className=z.f.length>75?"reponses smaller":z.f.length>50?"reponses small":"reponses";$6.innerHTML=f;$7.scrollTop=$7.scrollHeight}function H(){z.f.sort();z.f.push(z.e)}function I(){let h=0;for(let n=0;n<z.d.length;n++){const g=K(z.d[n]);h+=g}z.h===0&&(z.h=Math.floor(h*.8));z.g=0;for(let n=0;n<z.f.length;n++)z.g+=K(z.f[n]);let i=[0,2,5,8,15,25,39,49,69,100];for(let n=0;n<i.length;n++)z.i[n]=Math.floor(i[n]*z.h/100);z.i[9]=h}function J(n){const t=z.j;z.j=0;z.q=!1;for(let n=0;n<z.i.length;n++)z.g>=z.i[n]&&(z.j=n);n&&t!==z.j&&(L(z.j),z.q=z.j===8)}function K(n){return[1,5,6,7,8,9][n.length-4]}function D(){const n=z.c.split("");for(let t=0;t<n.length;t++){const i=z.d.filter(i=>i.startsWith(n[t])).length;$1[t].innerHTML=n[t]+`<em> ${i}</em>`}}function AC(){let n=$C.innerHTML;n=n.replace("%%",z.d.length.toString());let t="<ul>";for(let n=1;n<Ï‰.length-1;n++)t+=`<li>${Ï‰[n]} : ${z.i[n]}</li>`;t+="<\/ul>";n=n.replace("%%",t);$C.innerHTML=n}function AD(){let n=$solutions.innerHTML;const i=Ïˆ.find(n=>n.id===z.a-1);n=n.replace("%%",i.id);const r=i.c.split(""),u=r.map(n=>`<button>${n}</button>`).join("");n=n.replace("%%",u);const d=i.d.toLowerCase().split(" ");let t="";for(let n=0;n<26;n++){const r=String.fromCharCode(97+n),i=d.filter(n=>n.startsWith(r));i.length>0&&(t+=`<li> ${i.join(" ")} </li>`)}const f=z.b.split(" ");for(let n=0;n<f.length;n++){const i=f[n].toLowerCase();t=t.replace(" "+i+" "," <i>"+i+"<\/i  > ")}n=n.replace("%%",t);$solutions.innerHTML=n}function AB(){if(!(z.X>0)){let n=[z.c.substr(0,4).split(""),z.c.substr(4,4).split(""),z.c.substr(8,4).split(""),z.c.substr(12,4).split("")];n=n[0].map((t,i)=>n.map(n=>n[i]).reverse());const c=n[0].join("")+n[1].join("")+n[2].join("")+n[3].join("");z.c=c;$(".grid").className+=" shake";setTimeout(function(){$(".grid").className=$(".grid").className.replace(" shake","");D()},400)}}function M(){if(z.e=z.m.join(""),z.e.length<4)return"Trop court";const n=z.f.indexOf(z.e);return n!==-1?"DÃ©jÃ  trouvÃ©":z.d.indexOf(z.e)===-1?"Mot incorrect":""}function W(){let n=`#LaBOG ${z.a} (bÃªta)

`+`${Ï‰[z.j]} `+`(${z.f.length} mot${z.f.length>1?"s":""}, `+`${z.g} point${z.g>1?"s":""})
`;const i=Ï‰.length-1;if(z.j>=i-1){const r=Ïˆ.find(n=>n.id===z.a),i=r.c.split("");let t="";for(let n=0;n<i.length;n++){const u=z.d.filter(t=>t.startsWith(i[n])).length,r=z.f.filter(t=>t.startsWith(i[n])).length;t+=r===u?"ðŸŸ ":r===0?"âšª":"ðŸ”µ";(1+n)%4==0&&(t+="\n")}n+=t}else{n+="âšªâšªâšªâšªâšªâšªâšªâšª\n";for(let t=1;t<=z.j;t++)n=n.replace("âšª","ðŸ”µ")}n+="#LeMotLeJeu #Boggle\n";$(".parametres textarea").value=n+`
${z.l.substring(12)}
`;z.grille=n+`
${z.l}
`;Î²($E)}function Z(){const n={partie:{numero:z.a,lettres:z.c,mots:z.f.sort().join(" ").trim(),hier:z.b}};window.localStorage.setItem("labog",JSON.stringify(n))}function X(){let n=JSON.parse(window.localStorage.getItem("labog"));n===null&&(n={partie:{numero:-1}},z.p=!0);n.partie.numero===z.a-1?(n.partie.hier=n.partie.mots,n.partie.mots=""):n.partie.numero!==z.a&&(n.partie.mots="",n.partie.hier="");z.f=n.partie.mots?n.partie.mots.split(" "):[];z.b=n.partie.hier||"";F();I();J(!1);G();D();z.X=0;R()}function S(n){n=n||new Date;const t=n.toISOString().substring(0,10);return t>="2022-10-14"?24:t>="2022-10-12"?23:t>="2022-10-10"?22:21}function L(n){let t=`https://lemot.goatcounter.com/count?p=/labog-${z.a}-${n}&e=1`;(new Image).src=t}function O(){navigator.clipboard?navigator.clipboard.writeText(z.grille).then(Q,P):P()}function P(){const n=document.createElement("textarea");Î´(n,z.grille);document.body.appendChild(n);n.select();const t=document.execCommand("copy");document.body.removeChild(n);t?Q():Q("Impossible de copier dans le presse-papier :(")}function Q(n){const t=$(".resultats .note"),i=t.textContent;n=n||"Grille copiÃ©e dans le presse-papier :)";Î´(t,n);setTimeout(function(){Î´($(".resultats .note"),i)},1e4)}function Î²(n){n.style.display="block"}function Î³(n){n.style.display="none"}function Î´(n,t){n.textContent=t}function $(n){return document.querySelector(n)}const Ï‰=["C'est parti","Pas mal","En progrÃ¨s","Bien","Fortiche","Joli","Super","Ã‰patant","GÃ©nial ðŸ¥³","Formidable !",],Ïˆ=[{id:20,h:233,c:"UOFTXRICENELIAUI",d:"AERE AERIEN AINE ANERIE ANIER ANIERE AUNE AUNER CELUI CENE CERF CERNE CERNEAU CIEL CILIE CINE CIRE CLEAN CLIN ELIRE ERINE FIEL FIER FIERE FIEU FILE FILER FILIERE FINE FINI FINIE FOIE FOIL FOIN FOIRE FORE FOUR FOURNEAU FOURNI FOURNIE FOURNIL FOXE FREIN FREINE FRENAIE FRENE FRIC FRIT ICELUI ILIEN INULE IULE LECTINE LICE LIEN LIER LIERNE LIEU LIFT LINER LINIER LINIERE LIRE LUNE NERF NIER NUER ORIEL ORIN ORNE RECIF RECIT REIN REINE RELU RELUI RENE RENIE REUNI REUNIE RIEL RIEN RIFT ROUX TIEN TINE TIRE ULCERE UNIE UNIF UNIR URINE URNE"},{id:21,h:201,c:"ESODTINTAFYEGVLO",d:"AFIN AINE AISE DONS DONT DOSE DOTE ENDOS ENFAITE ENFAITES ETAI ETAIN ETAINS ETAIS FAINE FAIT FAITE FAITES FAITS FATS FIAT FIES FIESTA FINE FINS FION FIONS FLET FLOE GAIE GAIES GAIN GAINE GAINS GAIS GAITE GAITES GATE GATES GATINE IONS LENT LENTO LENTOS NIES NOISE NOTE OIES OINT OINTE SEIN SEINE SITE SNIF SOIE SOIF SOIN SOIT SONIE TAIE TAIES TAIN TAINS TEINT TEINTE TENIA TINE TINS TINTE TISE TISON TOISE TOIT TOITS TONFA TONIE TONIES TONS VAIN VAINE VAINS YENS YOLE"},{id:22,c:"BSFTOTOOGGLPEREA",d:"AERE ALPE ALTO ALTOS BOTS EGOS ELOGE ERGOL ERGOT ERGOTS FOOT FOOTS GERE GOGO GOGOL GOGOLE GOGOS GREGE GRELOT GRELOTS LAPE LAPER LEGE LEGER LOFS LOFT LOFTS LOGE LOGER LOGO LOGOS LOTO LOTOS LOTS OGRE OPALE OPERE PALE PALOT PALOTS PEGRE PERE PERGOLA PERLOT PERLOTS PLOT PLOTS POGO POGOS POLE POLO POLOS POOL POST POTS REAL REGEL REGLE REGLO REGLOS RELOGE REPOS SOFT SOLE SOLO STOP STOT TOGE TOLE TOLERE TOPE TOPER TOPO TOPOS TOTO TOTOS"},{id:23,c:"GAEUPJMRDOLAESIC",d:"AILS AISE ALIOS ALISE ALOES ALOI ALOSE AMER AMURE APODE APODES ARME ARMOISE ARUM CALME CALMER CALO CALS CAME CAMER CARME CILS CLAM CLAME CLAMER CLAMEUR CLOS CLOSE DOLIC DOLS DOME DOSE EMAIL EMOI EMOIS GAMER GAMEUR IODE IODES ISLAM JAMAIS JOLI JOLIS LACIS LAIC LAIS LAMA LAME LAMER LARE LARME LODS LOIS MACIS MAERL MAERLS MAIL MAILS MAIS MAJEUR MALI MALIS MARE MARLI MARLIS MERL MERLS MODE MODES MOIS MOISE MUER MURAL MURE ODES PAME PAMER POIL POILS POIS POISE POLAR POLI POLIS POLJE POSE RACISE RAIL RAILS RAIS RAME REMOIS REMOISE SIAL SILO SLAM SLAME SLAMER SLAMEUR SODE SOJA SOLI SOMA SOMALI"},{id:24,c:"SHTITOAXPTEBIELA",d:"ABAT ABATEE ABEE ABETI ABETIE ABLE ALEA ALTEA ALTO ALTOS ATELE ATOPIE AXEE BAHT BAHTS BALTE BATE BATEE BATELE BATH BATI BATIE BEAT BEATE BELE BETA BETE BETEL BLET EBAT EPITE ETABLE ETAI ETAT EXIT HABLE HATE HATEE HOTE HOTEL HOTTE HOTTEE LEPTE OPTE OTEE PELE PELTA PELTE PETE PIETA PIETE PITA PITE POELE POETE POST POTABLE POTE POTEE POTELE POTS SHOT SOTIE SOTTE SOTTIE STOP STOT TABLE TABLEE TAEL TAOS TATE TATEE TATIE TAXE TAXEE TAXI TELE TELEX TEXTO TEXTOS THAI TOPE"},],$0=document.querySelectorAll("#plateau .case"),$1=document.querySelectorAll(".grid button"),$2=$("#keyboard"),$4=$(".message"),$5=$(".bravo"),$6=$(".reponses"),$7=$("#inside"),$8=$("#niveau"),$9=$("#jours"),$A=$("#mots"),$B=$("#points");window.addEventListener("load",Y);window.addEventListener("resize",Y);const $C=$(".instructions");$(".aide").addEventListener("click",()=>{Î²($C)},!1);const $E=$(".parametres");$(".outils").addEventListener("click",()=>{W()},!1);const $solutions=$(".solutions");$(".hier").addEventListener("click",()=>{Î²($solutions)},!1);$(".resultats button").addEventListener("click",O);document.body.addEventListener("click",n=>{if(n.target.className.indexOf("ferme")!==-1)return Î³($C),Î³($E),Î³($solutions),!1});let timoutId=-1;$4.addEventListener("click",R);document.addEventListener("keyup",n=>{n.ctrlKey||T(n.which)},!1);$2.addEventListener("click",n=>{if(z.k){n.target.blur();return}let t=n.target.textContent.split(" ")[0];if(t.length!==1)n.target.id==="enter"?T(13):n.target.id==="back"?T(8):n.target.id==="shuffle"?AB():n.target.id==="hint"&&$2.className===""&&($("body").className="show-hint",timoutId=setTimeout(function(){$("body").className=""},1500));else{const i=+n.target.id.substring(3);T(t.charCodeAt(),i)}n.target.blur()},!1);let z={};Î±()