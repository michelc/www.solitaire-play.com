"use strict";function Y(){const n=$("#content").clientHeight-15;$8.style.height=n+"px"}function Î±(){z={X:0,a:-1,b:"",c:[],d:"",e:[],f:0,g:0,h:[0,0,0,0,0,0,0,0,0,0],i:-1,p:!1,k:"https://www.solitaire-play.com/labog/",l:["","","","","","","","",""],m:[-1,-1,-1,-1,-1,-1,-1,-1,-1],n:9,o:!1,j:!1,q:0};z.a=S();let n=Ïˆ.find(n=>n.id===z.a);z.b=n.b;z.c=n.c.split(" ");Î´($("#puzzle"),`#${z.a}`);X();z.o?Î²($D):W()}function V(n,t,i){t>=2e3&&(n+="<a class=close>âœ•<\/a>",Î³($7),z.j=!0);$5.innerHTML=n;Î²($5);timoutId=setTimeout(function(){Î³($5);i&&i();z.j=!1},t)}function T(n,t=-1){if(!z.j)if(n===13){let n=M();if(z.d==="")return;if(n!==""){z.j=!0;V(n,750,R);return}AA();z.X=0}else if(n===8)z.X>0&&(A(z.X),z.X--,z.l[z.X]="",z.m[z.X]=-1,A(z.X),C(z.X),B(),F(!0));else{if(t===-1)return;if(n>=65&&n<=90){if(N(t)===!1)return;z.X<z.n&&(z.l[z.X]=String.fromCharCode(n),z.m[z.X]=t,A(z.X,!0),F(!0),z.X++,C(z.X),B())}}}function N(n){if(z.X===0)return!0;if(z.m.includes(n))return!1;const t=z.m[z.X-1],i=Math.floor(t/4),r=t%4,u=Math.floor(n/4),f=n%4;return u<i-1?!1:u>i+1?!1:f<r-1?!1:f>r+1?!1:!0}function AA(){H();F();z.e.length===1&&L(0);const f=K(z.d);z.f+=f;E(f);J(!0);G();Z();R()}function A(n,t){if(n!==z.n){Î´($1[n],z.l[n]);let i="case filled"+(t?" pop":"");$1[n].className=i}}function R(){z.j=!1;for(let n=0;n<z.n;n++){z.l[n]="";Î´($1[n],"");$1[n].className="case";const t=z.m[n];t!==-1&&($2[t].className="");z.m[n]=-1}z.X=0;C(z.X);B();try{clearTimeout(timoutId)}finally{}Î³($5);Î²($7)}function B(){const n=z.X===0?-1:z.m[z.X-1];for(let t=0;t<16;t++){let i="key-yes";t===n?i="key-last":z.m.includes(t)?i="key-played":N(t)===!1?i="key-no":z.X===z.n&&(i="key-no");$2[t].className=i}}function C(n){z.j||n>z.n-1||($1[n].innerHTML+="<span class='curseur'>_<\/span>")}function E(f){let n="Bien";f>6?n="Super":f>4&&(n="Bravo");$6.innerHTML=`<span>${n} !</span> <b>+${f}</b>`;Î²($6);setTimeout(function(){if(Î³($6),z.p){confetti();const n="Victoire !<br>C'est "+Ï‰[z.i];V(n,14e3,R)}else if(z.c.length===z.e.length){confetti();V("C'est fini !<br><br>Â¯\\_(ãƒ„)_/Â¯",14e3,R)}},950)}function G(){Î´($9,Ï‰[z.i]);Î´($B,z.e.length+" mot"+(z.e.length>1?"s":""));Î´($C,z.f+" point"+(z.f>1?"s":""));let n="";z.q>0&&z.q<9&&(n="J-"+z.q);Î´($A,n);for(let n=0;n<8;n++){const t=`#progression div:nth-child(${n+1})`;$(t).className="";n<z.i&&($(t).className=z.i===9?"boss":"yes")}}function U(n){return n===""?n:n[0].toUpperCase()+n.substring(1).toLowerCase()}function F(n){let e=z.e.map(n=>U(n)).join(" ");if(n){const d=U(z.l.join(""));e=" "+e;e=e.replaceAll(" "+d," <u>"+d+"<\/u>").trim()}z.q===-1&&(e+="<br><b>RafraÃ®chir pour une nouvelle partie !<\/b>");$7.className=z.e.length>75?"reponses smaller":z.e.length>50?"reponses small":"reponses";$7.innerHTML=e;$8.scrollTop=$8.scrollHeight}function H(){z.e.sort();z.e.push(z.d)}function I(){z.g=0;for(let n=0;n<z.c.length;n++){const f=K(z.c[n]);z.g+=f}z.f=0;for(let n=0;n<z.e.length;n++)z.f+=K(z.e[n]);z.h[0]=0;z.h[1]=Math.floor(z.g/50);z.h[2]=Math.floor(z.g/20);z.h[3]=Math.floor(z.g/10);z.h[4]=Math.floor(15*z.g/100);z.h[5]=Math.floor(z.g/4);z.h[6]=Math.floor(35*z.g/100);z.h[7]=Math.floor(45*z.g/100);z.h[8]=Math.floor(60*z.g/100);z.h[9]=Math.floor(z.g/1)}function J(n){const t=z.i;z.i=0;z.p=!1;for(let n=0;n<z.h.length;n++)z.f>=z.h[n]&&(z.i=n);n&&t!==z.i&&(L(z.i),z.p=z.i===8)}function K(n){const t=n.length;return t===4?1:t>=7?t+2*(t-6):t}function D(){const n=z.b.split("");for(let t=0;t<n.length;t++)$2[t].textContent=n[t]}function M(){if(z.d=z.l.join(""),z.d.length<4)return"Trop court";const n=z.e.indexOf(z.d);return n!==-1?"DÃ©jÃ  trouvÃ©":z.c.indexOf(z.d)===-1?"Mot incorrect":""}function W(){let n=`#LaBOG ${z.a} (bÃªta)

`+`${Ï‰[z.i]} - `+`${z.e.length} mot${z.e.length>1?"s":""} - `+`${z.f} point${z.f>1?"s":""}
`+`â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ`;const h=Ï‰.length-1;for(let t=1;t<=z.i;t++)n=n.replace("â¬œ","ðŸŸ¦");z.i===h&&(n=n.replaceAll("ðŸŸ¦","ðŸŸ§"));n+="\n#LeMotLeJeu\n";$(".parametres textarea").value=n+`
${z.k.substring(12)}
`;z.grille=n+`
${z.k}
`;Î²($F)}function Z(){const n={partie:{numero:z.a,lettres:z.b,mots:z.e.sort().join(" ").trim()}};window.localStorage.setItem("labog",JSON.stringify(n))}function X(){let n=JSON.parse(window.localStorage.getItem("labog"));n===null&&(n={partie:{numero:-1}},z.o=!0);n.partie.numero===z.a-1?(n={partie:{numero:z.a,lettres:z.b,mots:"",hier:{lettres:n.partie.lettres,mots:n.partie.mots}}},window.localStorage.setItem("labog",JSON.stringify(n))):n.partie.numero!==z.a&&(n.partie.mots="");z.e=n.partie.mots?n.partie.mots.split(" "):[];F();I();J(!1);G();D();z.X=0;R()}function S(){return 1}function L(n){let t=`https://lemot.goatcounter.com/count?p=/labog-${z.a}-${n}&e=1`;(new Image).src=t}function O(){navigator.clipboard?navigator.clipboard.writeText(z.grille).then(Q,P):P()}function P(){const n=document.createElement("textarea");Î´(n,z.grille);document.body.appendChild(n);n.select();const t=document.execCommand("copy");document.body.removeChild(n);t?Q():Q("Impossible de copier dans le presse-papier :(")}function Q(n){const t=$(".resultats .note"),i=t.textContent;n=n||"Grille copiÃ©e dans le presse-papier :)";Î´(t,n);setTimeout(function(){Î´($(".resultats .note"),i)},1e4)}function Î²(n){n.style.display="block"}function Î³(n){n.style.display="none"}function Î´(n,t){n.textContent=t}function $(n){return document.querySelector(n)}const Ï‰=["C'est parti","Pas mal","En progrÃ¨s","Bien","Fortiche","Joli","Super","Ã‰patant","GÃ©nial ðŸ¥³","Formidable !",],Ïˆ=[{id:1,b:"LOETNRNAFEGNRERA",c:"AERER AERONEF AGAR AGATE AGEE AGENT AGENTE AGNAT AGNATE AGREER ANAR ANEE ANGE ANNEE ANNONE ANON ANONE ANTE ARENA ARENE ARGAN ARGENT ARGENTAN ARGENTER EGARE EGARER EGRENER ENFER ENOL ENTER ETAGE ETAGER ETAGERE ETANG FENG FENTE FERA FREGATE FREGATER FRENE FREON FRERE FRET FRONT GANT GANTER GARE GARER GATER GENE GENER GENET GENRE GENT GENTE GERER GERONTE GNON GREEN GREER GRENAT GRENER LONE LONG LONGE LONGER LONGERE LORGNER NAGE NAGEE NAGER NANA NANAR NEGRE NEGRO NENE NEON NERF NONE ONAGRE OREE ORGA ORGANE ORGE ORNER RAGE RAGER RAGREER RANG RANGEE RANGER REER REFENTE REFERE REFERENT REFRENER REGATE REGATER REGENT REGENTE REGENTER REGNANT REGNANTE REGNE REGNER REGRET RENE RENEGAT RENTE RENTER RONGER TANNAGE TANNE TANNER TENON TENOR TERNE"},],$1=document.querySelectorAll("#plateau .case"),$2=document.querySelectorAll(".grid button"),$4=$("#keyboard"),$5=$(".message"),$6=$(".bravo"),$7=$(".reponses"),$8=$("#inside"),$9=$("#niveau"),$A=$("#jours"),$B=$("#mots"),$C=$("#points");window.addEventListener("load",Y);window.addEventListener("resize",Y);const $D=$(".instructions");$(".aide").addEventListener("click",()=>{Î²($D)},!1);const $F=$(".parametres");$(".outils").addEventListener("click",()=>{W()},!1);$(".resultats button").addEventListener("click",O);document.body.addEventListener("click",n=>{if(n.target.className.indexOf("ferme")!==-1)return Î³($D),Î³($F),!1});let timoutId=-1;$5.addEventListener("click",R);document.addEventListener("keyup",n=>{n.ctrlKey||T(n.which)},!1);$4.addEventListener("click",n=>{if(z.j){n.target.blur();return}let t=n.target.textContent;if(t.length!==1)n.target.id==="enter"?T(13):n.target.id==="back"&&T(8);else{const i=+n.target.id.substring(3);T(t.charCodeAt(),i)}n.target.blur()},!1);let z={};Î±()