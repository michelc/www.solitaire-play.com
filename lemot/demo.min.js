"use strict";function A(){const n=$("#content").clientHeight-15;$7.style.height=n+"px"}function B(n,t){$5.innerHTML=n;U($5);setTimeout(function(){V($5)},t)}function C(n){if(n===13){const n=R();if(z.e==="")return;if(n!==""){B(n,400);F();return}D();z.X=0}else n===8?z.X>0&&(E(z.X),z.X--,z.m[z.X]="",E(z.X),G(z.X),K(!0)):n>=65&&n<=90&&z.X<z.n&&(z.m[z.X]=String.fromCharCode(n),E(z.X,!0),K(!0),z.X++,G(z.X))}function D(){L();K();z.g+=O(z.e);N();I();S();F()}function E(n,t){if(n!==z.n){W($1[n],z.m[n]);let i="case"+(t?" pop":"");z.m[n]!==""&&(i+=z.b.startsWith(z.m[n])?" filled-ok":z.b.includes(z.m[n])?" filled":" filled-ko");$1[n].className=i}}function F(){for(let n=0;n<z.n;n++)z.m[n]="",W($1[n],""),$1[n].className="case";z.X=0;G(0,0)}function G(n){z.p||n>z.n-1||($1[n].innerHTML+="<span class='curseur'>_<\/span>")}function H(){const n=z.ψ.filter(n=>!z.f.includes(n));for(let t=0;t<n.length;t++)n[t]=n.splice(Math.floor(n.length*Math.random()),1,n[t])[0];const t=J(n[0]);if(z.d.length>0){const t=z.ψ.indexOf(n[0]),i=z.d[t].split("|")[0];B(i,1e3);return}const i=z.j<3?2:t.length/5*3;B(t.substring(0,i)+"...",1e3)}function I(){W($8,["C'est parti","Pas mal","En progrès","Bien","Fortiche","Joli","Super","Epatant","Génial","Formidable !",][z.j]);$9.value=z.j;W($A,z.g+" point"+(z.g>1?"s":""));W($B,z.f.length+" mot"+(z.f.length>1?"s":""))}function J(n){return n===""?n:n[0].toUpperCase()+n.substring(1).toLowerCase()}function K(n){let f=z.f.map(n=>J(n)).join(" ");if(n){const e=J(z.m.join(""));f=" "+f;f=f.replaceAll(" "+e," <b>"+e+"<\/b>").trim()}$6.innerHTML=f;$7.scrollTop=$7.scrollHeight}function L(){z.f.sort();z.f.push(z.e)}function M(){z.h=0;for(let n=0;n<z.ψ.length;n++)z.h+=O(z.ψ[n]);z.g=0;for(let n=0;n<z.f.length;n++)z.g+=O(z.f[n]);z.i[0]=0;z.i[1]=Math.floor(z.h/50);z.i[2]=Math.floor(z.h/20);z.i[3]=Math.floor(8*z.h/100);z.i[4]=Math.floor(15*z.h/100);z.i[5]=Math.floor(z.h/4);z.i[6]=Math.floor(39*z.h/100);z.i[7]=Math.floor(49*z.h/100);z.i[8]=Math.floor(69*z.h/100);z.i[9]=Math.floor(z.h/1)}function N(){z.j=0;for(let n=0;n<z.i.length;n++)z.g>=z.i[n]&&(z.j=n)}function O(n){let g=0;const t=n.length;return g=t===4?1:t,P(n)&&(g+=7),g}function P(n){if(n.length<7)return!1;for(let t=0;t<7;t++)if(n.indexOf(z.b[t])===-1)return!1;return!0}function Q(){for(var t=z.b.split(""),i=t.shift(),n=0,n=0;n<t.length;n++)t[n]=t.splice(Math.floor(t.length*Math.random()),1,t[n])[0];for($3.textContent=i,n=0;n<t.length;n++)$2[n].textContent=t[n]}function R(){var t,n;if(z.e=z.m.join(""),z.e.length<4)return"Trop court";if(t=z.f.indexOf(z.e),t!==-1)return"Déjà trouvé";if(n=z.b[0],z.e.indexOf(n)===-1)return"Manque le "+n;for(let n=0;n<z.e.length;n++)if(z.b.indexOf(z.e[n])===-1)return"Mauvaises lettres";return z.ψ.indexOf(z.e)===-1?"Mot inconnu":""}function S(){var n={partie:{a:z.a,petales:z.b,butins:z.f.join(" ")}};const t=`fleur`;window.localStorage.setItem(t,JSON.stringify(n))}function T(){const t=`fleur`;var n=JSON.parse(window.localStorage.getItem(t));n===null&&(n={partie:{a:-1}},z.o=!0);n.partie.a!==z.a?n.partie.butins="":n.partie.petales!==z.b&&(n.partie.butins="");z.f=n.partie.butins.trim()===""?[]:n.partie.butins.trim().split(" ");K();M();N();I();Q();z.X=0;F()}function U(n){n.style.display="block"}function V(n){n.style.display="none"}function W(n,t){n.textContent=t}function $(n){return document.querySelector(n)}const z={X:0,a:-1,b:"","ψ":[],d:[],e:"",f:[],g:0,h:0,i:[0,0,0,0,0,0,0,0,0,0],j:0,p:!1,l:"https://www.solitaire-play.com/lemot/",m:["","","","","","","","",""],n:9,o:!1,p:!1},$1=document.querySelectorAll("#plateau .case"),$2=document.querySelectorAll(".column .around"),$3=$(".column .center"),$4=$("#keyboard"),$5=$(".message"),$6=$(".reponses"),$7=$("#inside"),$8=$("#rang"),$9=$("#progression"),$A=$("#points"),$B=$("#mots");window.addEventListener("load",A);window.addEventListener("resize",A);const $C=$(".instructions"),$D=$(".aide");$D.addEventListener("click",()=>{U($C)},!1);const $E=$(".parametres"),$F=$(".outils");$F.addEventListener("click",()=>{U($E)},!1);document.body.addEventListener("click",n=>{n.target.className.indexOf("ferme")!==-1&&(V($C),V($E))});document.addEventListener("keyup",n=>{n.ctrlKey||C(n.which)},!1);$4.addEventListener("click",n=>{var t=n.target.textContent;t.length!==1?(n.target.id==="enter"?C(13):n.target.id==="back"?C(8):n.target.id==="shuffle"?Q():n.target.id==="hint"&&H(),n.target.blur()):C(t.charCodeAt())},!1);z.ψ="AIOLI ALLAITANT ALLANT ALLO ALOI ALTO ALVIN ANAL ANNIV ANON ANTAN ANTIVOL ATOLL ATONAL AVAL AVALANT AVANT AVIATION AVION INANITION INITIAL INNOVANT INVITANT IOTA LAIT LAITON LALA LATIN LATINO LIANT LILIAL LOINTAIN LOLITA LOTTA NAIN NANA NANAN NANTI NATAL NATATION NATION NATIONAL NAVAL NOTA NOTATION NOVA NOVATION OVATION TAIN TALA TALION TALON TANIN TANNANT TANNIN TANT TANTOT TAON TATA TATILLON TATIN TATONNANT TIAN TITAN TONAL TONNANT TOTAL VAILLANT VAIN VALLON VANTAIL VILAIN VILLA VINA VIOLATION VITAL VIVANT VIVAT VLAN VOILA VOLANT VOLATIL VOTANT".split(" ");z.d=["Mayonnaise|aïoli","Donnant à manger","Peps","C'est qui ?","Généralement bon","Grave féminine","Bas du bidon","Bas des fesses","Apocope à bougies","Fils d'imbécile|ânon","Du bon temps","Marque de méfiance","Bikini explosif","Sérial musique","Arrivée d'eau","Entubant","Précédemment","Héritage d'Icare","Fait comme l'oiseau","Famine !","En tête au féminin","Sans pomper","Viendez !","Minuscule mais inflexible","Spécialité des mammifères","Cuivré et métis","Oh !","Comme un italien","Comme un espagnol","Douceur","Blanc et pur","Horizon","Mademoiselle Haze","Engagée pour l'indépendance","Ami de Legolas","Mademoiselle Coupeau","Mot d'enfant facile","Privilégié","D'où l'on vient","Sert souvent d'excuse","A sa place","Championnat de foot","Que d'eau, que d'eau !","Avertissement","Résultat d'un devoir","Extrêmement brillante","Invention disruptive","Triomphe bruyant","Réfléchissant","De la musique hindoue","Compensation","Reste de cartes","Poudre à peaux","Fatigant","Poudre à vin","On ne sait pas trop combien","On ne sait pas trop quand|tantôt","Donne des douleurs vives","Soeur affectueuse","Chiant","Renversé","Peu à peu|tâtonnant","Provençal","Une force de la nature","De l'ordre du son","Jupitérien","Somme en somme","Courageux et travailleur","Qui ne sert pas","Entre côtes","Partie mobile","Comme un pou","D'origine italienne","Instrument indien|vînâ","Manque de respect","Indispensable","Mieux vaut l'être bon","Chanson flamande","Passe moi l'éponge","C'est fini|voilà","Pour une bonne conduite","Pas très fiable","Prend position"];z.a=1;z.b="AILNOTV";W($("#puzzle"),`#${z.a}`);T();z.o&&U($C)